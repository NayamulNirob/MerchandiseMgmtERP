

<h2 class="card-title text-center">Supplier Management</h2>
<div class="col-12 grid-margin mt-5">
  <div class="card bg-dark text-white">
    <div class="card-body">
      <h4 class="card-title text-center">New Supplier Add Form</h4>
      <form class="form-sample" (ngSubmit)="addSupplier()">
        <h6 class="card-description mb-3">Fill up All Requared Field </h6>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-sm-3 col-form-label"> Name </label>
              <div class="col-sm-9">
                <input type="text" [(ngModel)]="newSupplier.name" name="name" placeholder="Supplier Name" required
                  class="form-control" />
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-sm-3 col-form-label">Contact Person</label>
              <div class="col-sm-9">
                <input type="text" [(ngModel)]="newSupplier.contactPerson" name="contactPerson"
                  placeholder="Contact Person" required class="form-control" />
              </div>
            </div>
          </div>
        </div>

        <div class="row">

          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-sm-3 col-form-label">Country</label>
              <div class="col-sm-9">
                <!-- <select class="form-control" id="country" [(ngModel)]="newSupplier.country.id" name="country"
                  required>
                  <option *ngFor="let countries of country" [value]="countries.id">{{
                    countries.name}}</option>
                </select> -->

                <select class="form-control" id="country" [(ngModel)]="newSupplier.country" name="country" required>
                  <option *ngFor="let countries of country" [ngValue]="countries">{{ countries.name }}</option>
                </select>
                
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-sm-3 col-form-label">Membership Status</label>
              <div class="col-sm-3">
                <div class="form-check">
                  <label class="form-check-label">
                    <input type="radio" class="form-check-input" name="status" id="status" value="Germents" checked
                      [(ngModel)]="newSupplier.status"> Germents </label>
                </div>
              </div>
              <div class="col-sm-3">
                <div class="form-check">
                  <label class="form-check-label">
                    <input type="radio" class="form-check-input" name="status" id="status" value="Row Metaril&chemical"
                      checked [(ngModel)]="newSupplier.status">Row Metaril</label>
                </div>
              </div>

              <div class="col-sm-3">
                <div class="form-check">
                  <label class="form-check-label">
                    <input type="radio" class="form-check-input" name="status" id="status" value="Accessories" checked
                      [(ngModel)]="newSupplier.status"> Accessories </label>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-sm-3 col-form-label"> Email </label>
              <div class="col-sm-9">
                <input type="email" [(ngModel)]="newSupplier.email" name="email" placeholder="Email" required
                  class="form-control" />
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-sm-3 col-form-label">Phone</label>
              <div class="col-sm-9">
                <input type="text" [(ngModel)]="newSupplier.phone" name="phone" placeholder="Phone Number" required
                  class="form-control" />
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-sm-3 col-form-label">Address </label>
              <div class="col-sm-9">
                <!-- <input type="text" [(ngModel)]="newSupplier.address" name="address" placeholder="Organization Address" required  class="form-control" /> -->

                <textarea class="form-control" id="exampleTextarea1" rows="2" type="text"
                  [(ngModel)]="newSupplier.address" name="address" placeholder="Organization Address"
                  required></textarea>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-sm-3 col-form-label">Organization</label>
              <div class="col-sm-9">
                <input type="text" [(ngModel)]="newSupplier.organization" name="organization"
                  placeholder="Organization Name" required class="form-control" />
              </div>
            </div>
          </div>
        </div>

        
        <button type="submit" class="btn btn-success mr-2 mt-5">Submit</button>
        <button type="reset" class="btn btn-primary mt-5">Cancel</button>

      </form>
    </div>
  </div>
</div>

<div>

  <!-- <div class="row">
    <div class="col-md-3 ms-4">
    <input type="text" [(ngModel)]="searchTerm" (input)="filterSuppliers()"
      placeholder="Search by supplier name or contact person..." class="form-control" />
    </div>
    <select [(ngModel)]="sortBy" (change)="sortSuppliers()" style="margin-left: 330px;">
      <option value="name">Sort by Name</option>
      <option value="contactPerson">Sort by Contact Person</option>
      <option value="email">Sort by Email</option>
    </select>
  </div> -->


  
<div class="row ">
  <div class="col-md-12 d-flex justify-content-between align-items-start ">

      <input type="text" class="form-control ms-3 bg-dark text-white" style="max-width: 250px; color: #fff;"
          [(ngModel)]="searchTerm" (input)="filterSuppliers()" placeholder="Search by supplier name or contact person..."
          onfocus="this.placeholder='Search by Product name or code...'" />

      <div class="d-flex align-items-center">
          <label> Sortby </label>&nbsp;&nbsp;

          <select [(ngModel)]="sortBy" (change)="sortSuppliers()" class="form-control mb-1 me-3  bg-dark text-white"
              style="max-width: 150px;">
              <option value="name">Sort by Name</option>
              <option value="contactPerson">Sort by Contact Person</option>
              <option value="email">Sort by Email</option>
          </select>

      </div>
  </div>
</div>



  <table class="min-w-full border-collapse border border-gray-200 mt-2 ms-3">
    <thead>
      <tr>
        <th class="border border-gray-300 p-2">Supplier Name</th>
        <th class="border border-gray-300 p-2">Contact Person</th>
        <th class="border border-gray-300 p-2">Email</th>
        <th class="border border-gray-300 p-2">Phone</th>
        <th class="border border-gray-300 p-2">Address</th>
        <th class="border border-gray-300 p-2">Country</th>
        <th class="border border-gray-300 p-2">Created At</th>
        <th class="border border-gray-300 p-2">Updated At</th>
        <th class="border border-gray-300 p-2">Status</th>
        <th class="border border-gray-300 p-2">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let supplier of filteredSuppliers">
        <td class="border border-gray-300 p-2">{{ supplier.name }}</td>
        <td class="border border-gray-300 p-2">{{ supplier.contactPerson }}</td>
        <td class="border border-gray-300 p-2">{{ supplier.email }}</td>
        <td class="border border-gray-300 p-2">{{ supplier.phone }}</td>
        <td class="border border-gray-300 p-2">{{ supplier.address }}</td>
        <td class="border border-gray-300 p-2">{{ supplier.country }}</td>
        <td class="border border-gray-300 p-2">{{ supplier.createdAt |  date: 'd MMM, y hh:mm:ss a'}}</td>
        <td class="border border-gray-300 p-2">{{ supplier.updatedAt |  date: 'd MMM, y hh:mm:ss a' }}</td>
        <td class="border border-gray-300 p-2">{{ supplier.status}}</td>
        <td class="border border-gray-300 p-2">

          <a class="btn btn-outline-success btn-sm" (click)="updateSupplier(supplier.id)" data-toggle="modal"
            data-target="#exampleModal">
            <i class="fa-solid fa-pen-to-square"
              style="--fa-primary-color: #05812a; --fa-secondary-color: #bbfdbe;"></i>
          </a>

          <a class="btn btn-outline-danger btn-sm" (click)="removeSupplier(supplier.id)" data-toggle="modal"
            data-target="#exampleModal">
            <i class="fa-solid fa-trash-can" style="color: #fd0101;"></i>
          </a>

        </td>
      </tr>
    </tbody>
  </table>
</div>
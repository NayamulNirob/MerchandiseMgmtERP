<div class="row">

    <div class="col-md-8 grid-margin stretch-card">

        <div class="card bg-dark text-white">
            <div class="card-body">
                <h4 class="card-title">Add New Transaction</h4>
                <div class="mt-3">

                    <textarea [(ngModel)]="newTransaction.description" placeholder="Description"
                        class="form-control mb-3" required rows="2"></textarea>

                    <input [(ngModel)]="newTransaction.date" type="datetime-local" class="form-control mb-3" required
                        disabled />

                    <input [(ngModel)]="newTransaction.amount" type="number" placeholder="Amount"
                        class="form-control mb-3" required />

                    <button (click)="addTransaction()" class="btn btn-primary mt-2">
                        Add Transaction
                    </button>

                    <h4 class="card-title mt-5 mb-3">Transaction History</h4>
                    <div class="table-responsive">
                        <table class=" table table-dark table-striped mt-4 mat-elevation-z8">
                            <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Date</th>
                                </tr>
                            </thead>
                            <tbody>

                                <tr *ngFor="let t of transactions">
                                    <td>{{ t.id }}</td>
                                    <td>{{ t.description }}</td>
                                    <td>{{ t.amount | currency }}</td>
                                    <td>{{ t.date | date: 'd MMM, y hh:mm:ss a' }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <h5>Total Transaction: {{ totalAmount | currency }}</h5>
                </div>
            </div>
        </div>

    </div>


    <div class="col-md-4 grid-margin stretch-card">
        <div class="card bg-dark text-white">
            <div class="card-body">
                <h4 class="card-title">Transaction Overview</h4>

                <canvas id="transaction-history" class="transaction-chart"></canvas>


                <div *ngFor="let transaction of transactions"
                    class="bg-gray-dark d-flex d-md-block d-xl-flex flex-row py-3 px-4 px-md-3 px-xl-4 rounded mt-3 bg-dark text-white  mat-elevation-z8">
                    <div class="text-md-center text-xl-left">
                        <h6 class="mb-1">{{ transaction.description }}</h6>
                        <p class="mb-0">{{ transaction.date | date: 'd MMM, y hh:mm:ss a' }}</p>
                    </div>
                    <div class="align-self-center flex-grow text-right text-md-center text-xl-right py-md-2 py-xl-0">
                        <h6 class="font-weight-bold mb-0">{{ transaction.amount | currency }}</h6>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>